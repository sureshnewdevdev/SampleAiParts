<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>API Integration Patterns</title>
<style>
body {margin:0;font-family:Arial, sans-serif;}
.topnav {background-color:#04AA6D;overflow:hidden;color:white;padding:14px;font-size:20px;font-weight:bold;}
.sidebar {height:100vh;width:260px;position:fixed;top:48px;left:0;background:#f1f1f1;padding-top:20px;overflow-y:auto;border-right:1px solid #ddd;}
.sidebar a {padding:10px 20px;display:block;color:#000;text-decoration:none;font-weight:600;}
.sidebar a:hover {background:#ddd;}
.main {margin-left:270px;padding:20px;}
.section {border:1px solid #ddd;margin-bottom:20px;}
.section h2 {margin:0;padding:10px;background:#04AA6D;color:white;}
.section .content {padding:15px;}
.note {border-left:4px solid #2196F3;background:#E7F3FE;padding:10px;margin:10px 0;}
.tip {border-left:4px solid #04AA6D;background:#e8f5e9;padding:10px;margin:10px 0;}
.warning {border-left:4px solid #f44336;background:#ffebee;padding:10px;margin:10px 0;}
.example {background:#f5f5f5;border-left:4px solid #999;padding:10px;margin:10px 0;}
.code {background:#1e1e1e;color:#f8f8f2;padding:10px;border-radius:4px;overflow:auto;font-family:Consolas, monospace;}
.try-btn {background:#04AA6D;color:white;padding:8px 12px;border:none;border-radius:4px;text-decoration:none;display:inline-block;margin-top:8px;}
.nav-btn {background:#04AA6D;color:white;padding:10px 16px;border:none;border-radius:4px;text-decoration:none;display:inline-block;margin:10px 5px;}
img {max-width:100%;height:auto;border:1px solid #ddd;border-radius:4px;margin:10px 0;}
pre {white-space:pre-wrap;}
</style>
</head>
<body>
<div class="topnav">Azure OpenAI Service – Architecture, Deployment, Security & Integration</div>
<div class="sidebar">
<a href="index.html">Introduction</a>
<a href="azure-openai-architecture.html">Architecture & Capabilities</a>
<a href="azure-openai-setup.html">Setup</a>
<a href="azure-openai-deployment.html">Deployment & Management</a>
<a href="azure-openai-auth.html">Authentication & Access</a>
<a href="azure-openai-api-patterns.html">API Integration Patterns</a>
<a href="azure-openai-integrations.html">Integrations with Azure Services</a>
<a href="azure-openai-rag.html">RAG Workflow</a>
<a href="azure-openai-best-practices.html">Best Practices</a>
<a href="azure-openai-use-cases.html">Real-world Use Cases</a>
<a href="azure-openai-mini-project.html">Mini Project</a>
<a href="azure-openai-faqs.html">FAQs</a>
<a href="azure-openai-interview.html">Interview Questions</a>
<a href="azure-openai-summary.html">Summary</a>
<a href="azure-openai-quiz.html">MCQ Quiz</a>
<a href="azure-openai-downloads.html">Downloads</a>
</div>
<div class="main">
<div class="section">
<h2>API Integration Patterns</h2>
<div class="content">
<p>Azure OpenAI can be invoked directly from clients, through backend APIs, or via serverless and event-driven architectures. Direct REST calls fit internal tools, while API Management adds throttling, caching, and security for public or partner integrations. Microservices can encapsulate prompt engineering and retrieval logic to keep clients thin.</p>
<p>Serverless functions (Azure Functions) respond to events from Service Bus or Event Grid, generating summaries or actions asynchronously. For synchronous apps, an App Service or containerized backend mediates requests, handles retries, and enriches prompts using data from storage or search.</p>
<p>Choose patterns based on latency, throughput, and governance: mission-critical flows often layer API gateways, observability, and circuit breakers, whereas prototypes may call the service directly with API keys.</p>
<img src="https://via.placeholder.com/900x350?text=Integration+Flow" alt="Integration Flow" />
</div>
</div>
<div class="section">
<h2>ASCII Pattern Diagram</h2>
<div class="content">
<pre>Client --> API Mgmt --> Backend (App Service/Container) --> Azure OpenAI
                 \--> Function (Event Triggered) --> Azure OpenAI
                 \--> Logic App --> Azure OpenAI --> Downstream Systems</pre>
</div>
</div>
<div class="section">
<h2>Example Scenario</h2>
<div class="content">
<div class="example"><strong>Example:</strong> A retail chatbot uses API Management for rate limits, a containerized backend for prompt orchestration, and Azure Functions for asynchronous order status updates via Event Grid.</div>
</div>
</div>
<div class="section">
<h2>Backend Code Sample</h2>
<div class="content">
<div class="code"><pre>// Node.js Express backend calling Azure OpenAI
import express from "express";
import fetch from "node-fetch";
import dotenv from "dotenv";
dotenv.config();

const app = express();
app.use(express.json());

app.post("/chat", async (req, res) => {
  const messages = req.body.messages;
  const response = await fetch(`${process.env.ENDPOINT}/openai/deployments/${process.env.DEPLOYMENT}/chat/completions?api-version=2024-02-15-preview`, {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "api-key": process.env.AZURE_OPENAI_KEY
    },
    body: JSON.stringify({ messages })
  });
  const data = await response.json();
  res.json(data);
});

app.listen(8080, () => console.log("API ready"));</pre></div>
<a class="try-btn" href="#">Try It Yourself</a>
</div>
</div>
<div class="section">
<h2>Real-world Use Case</h2>
<div class="content">
<p>Enterprises often centralize OpenAI calls in a microservice that handles prompt templates, retrieval calls to Azure Search, and telemetry, allowing web, mobile, and partner channels to reuse the same orchestration logic.</p>
</div>
</div>
<div class="section">
<h2>Beginner Tip & Advanced Note</h2>
<div class="content">
<div class="tip"><strong>Beginner Tip:</strong> Start with a backend wrapper even for simple apps so you can add logging and retries without touching clients.</div>
<div class="warning"><strong>Advanced Note:</strong> Implement circuit breakers and fallbacks (e.g., cached responses) when downstream dependencies like search or databases are slow, using libraries such as Polly or resilience4j.</div>
</div>
</div>
<div>
<a href="azure-openai-auth.html" class="nav-btn">← Previous</a>
<a href="azure-openai-integrations.html" class="nav-btn">Next →</a>
</div>
</div>
</body>
</html>
